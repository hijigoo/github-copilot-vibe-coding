# 3. 예약·수수료 계산기 만들기

## ⏰ 소요 시간
**20분**

---

## 📖 시나리오

숙박 파트너와 프로모션 팀이 수익 구조를 빠르게 계산해야 합니다.
카톡으로 받은 요금표를 손으로 계산하다 보면 수수료가 헷갈리고, 쿠폰을 적용했을 때 플랫폼/업주 중 누가 얼마를 부담하는지 명확하지 않습니다.

**현재 문제:**
- ❌ 요금, 숙박일수, 쿠폰이 섞이면 계산 실수가 잦음
- ❌ 플랫폼 수수료(%)를 케이스마다 다르게 적용해야 함
- ❌ 업주 수령액을 눈으로만 추정해서 협상 시간이 길어짐

**만들 도구로 해결:**
- ✅ 입력 4가지만 넣으면 즉시 정산 결과 확인
- ✅ 쿠폰/프로모션 적용 후 고객 최종 결제 금액을 명확히 표시
- ✅ 플랫폼 수수료 금액과 업주 수령액을 동시에 보여줌
- ✅ 모바일에서도 볼 수 있는 단일 HTML 파일

---

## 📋 실습 재료

- Copilot Chat 또는 `/terminal` → `code revenue_calculator.html`
- 샘플 요금표 (예: 숙박요금 85,000원, 2박, 쿠폰 10,000원, 수수료 18%)
- 계산 확인용 표 (아래 체크리스트 참고)

---

## 💻 실습 1: Copilot에게 요구사항 전달

아래 프롬프트를 그대로 붙여넣고 실행하세요.

```
숙박 플랫폼용 "예약·수수료 계산기" 단일 HTML 파일을 만들어줘.
파일명: revenue_calculator.html

필수 입력 필드
1. 1박 요금 (숫자 입력, 통화 표시)
2. 숙박일수 (최소 1박)
3. 쿠폰/프로모션 절감액 (숫자, 기본 0)
4. 플랫폼 수수료 (%) – 소수점 허용

결과 카드에 다음 값을 계산해서 표시해줘.
- 고객 최종 결제 금액 = (1박 요금 × 숙박일수) - 쿠폰 금액
- 플랫폼 수수료 금액 = 고객 최종 결제 금액 × (수수료 % / 100)
- 업주 수령액 = 고객 최종 결제 금액 - 플랫폼 수수료 금액

기능 요구사항
- "계산하기" 버튼 클릭 시 실시간으로 결과 갱신
- 숫자 입력 시 천 단위 구분 표시, 잘못된 입력은 경고
- 프로모션 메모 입력란(선택)과 결과 요약을 한 번에 복사하는 버튼
- 반응형 카드 레이아웃, 상단에 간단한 단계 안내 배너

디자인 가이드
- 보라색 → 청록색 그라데이션 배경
- 결과 카드는 화이트, 그림자와 아이콘 포함
- 모바일(360px)에서도 한 열로 정렬

추가
- 예시 시나리오 2개를 화면 하단에 미리 채워서, 클릭 시 입력값이 자동으로 채워지게 해줘.
```

**결과 확인 포인트**
- HTML, CSS, JS가 한 파일에 묶여있는지
- 입력값 초기화 버튼과 결과 복사 버튼이 있는지
- 버튼 하나로 예시 시나리오가 로드되는지

---

## 🛠️ 실습 2: 계산 로직 보완

1. 결과 숫자에 `Intl.NumberFormat('ko-KR')`을 적용해 가독성 확인
2. 쿠폰 금액이 총액보다 크면 **경고 토스트**를 띄우고 계산 중단하도록 요청
3. 프로모션 메모를 포함해 아래 형식으로 복사되게 수정 지시

```
총 결제금액: 170,000원
플랫폼 수수료(18%): 30,600원
업주 수령액: 139,400원
메모: 주말 한정 1만원 쿠폰 적용
```

---

## 🧪 실습 3: 테스트 시나리오

| 테스트 케이스 | 1박 요금 | 숙박일수 | 쿠폰 | 수수료 % | 기대 결과 |
| --- | --- | --- | --- | --- | --- |
| 기본 | 85,000 | 2 | 10,000 | 18 | 고객 160,000원 · 수수료 28,800원 · 업주 131,200원 |
| 쿠폰 없음 | 120,000 | 1 | 0 | 15 | 고객 120,000원 · 수수료 18,000원 · 업주 102,000원 |
| 높은 수수료 | 70,000 | 3 | 5,000 | 25 | 고객 205,000원 · 수수료 51,250원 · 업주 153,750원 |
| 쿠폰 과다 | 60,000 | 1 | 80,000 | 12 | 경고 메시지 노출, 계산 미수행 |

**검증 팁**
- 각 케이스를 입력하고 결과 카드의 숫자를 테이블과 비교
- 클립보드 복사 후 메모장에 붙여넣어 형식 유지 여부 확인
- 모바일 브라우저 DevTools(Responsive Mode)로 버튼 배치 확인

---

## 💼 실무 활용 아이디어

- **파트너사 협상**: 수수료 %를 바꿔보며 즉석에서 정산 구조 제안
- **프로모션 검증**: 쿠폰 금액을 바꿔 손익분기점을 빠르게 계산
- **운영 리포트**: 클립보드 복사 기능으로 Slack에 수치 공유
- **세금/추가 수수료 시뮬레이션**: 도전 과제로 부가세, PG 수수료 입력을 확장

---

## 🎯 예상 결과물

[예약·수수료 계산기 웹앱 스크린샷]

---

## 🎓 추가 도전 과제 (선택)

1. **복수 객실 옵션**: 2개 이상의 객실 타입을 추가하고 전체 합계를 계산하는 테이블 추가
2. **세금/PG 수수료 분리**: 부가세, 결제대행 수수료 입력 필드를 만들어 단계별로 표시
3. **그래프 시각화**: Canvas 또는 Chart.js로 고객 금액 대비 수수료/수령액 비율을 도넛 차트로 시각화

---

## 📚 다음 세션 미리보기

**실전 도구 만들기 마무리**에서는:
- 완성한 두 개의 실전 도구 정리
- 운영팀 공유용 요약 파일 만드는 방법
- Copilot 활용 복습
